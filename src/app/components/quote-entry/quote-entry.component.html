<span class="{{ sourceClass }} {{ data.class }}" 
    (click)="toggleOpened$.next()" 
    [ngClass]="{ opened: opened$ | async }" 
    [attr.data-edition]="editionLevel" 
    [evtHtmlAttributes]="data?.attributes" 
    [evtEditorialConventionLayout]="editorialConventionData"
    (click)="toggleAppEntryBox($event);">

    <!-- elements inside data.content are not displayed
    <evt-content-viewer *ngFor="let el of data.content" [content]="el" [editionLevel]="editionLevel" 
    [itemsToHighlight]="itemsToHighlight" [evtHighlight]="highlightData" [textFlow]="textFlow">
    </evt-content-viewer>
    -->

    <ng-container *ngIf="data?.text.length > 0"> 
        {{data.text}} 
    </ng-container>
    <ng-container *ngIf="data?.text.length === 0 && data?.extSources.length !== 0"> 
        <evt-note [data]="dataForNote"></evt-note> 
    </ng-container>
</span>
<evt-source-detail *ngIf="opened$ | async" [source]="data"></evt-source-detail>